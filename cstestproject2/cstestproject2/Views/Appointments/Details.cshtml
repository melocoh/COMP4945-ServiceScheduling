@model cstestproject2.Models.Appointment

    <head>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
              integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

        <style>

            #emailinvoicebutton{
                font-size: 15px;
                margin:5px;
            }

            #modalfirstline {
                font-size: 19px;
                font-weight: 500;
            }

            .modalbuttons {
                width: 35%;
            }


        </style>
</head>

@{
    ViewData["Title"] = "Details";
}

<h1>Appointment Details</h1>

<div>
    <h4>Appointment ID : @ViewBag.ServiceAppointment.AppointmentId</h4>
    <hr />
    <dl class="row">

        @*This part is from the appointment table*@

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ServTitle)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ServTitle)
        </dd>

        @*This part is from the service table*@

        <dt class="col-sm-2">
            Max Num of Emp
        </dt>
        <dd class="col-sm-10">
            @ViewBag.ServiceAppointment.MaxEmpNo
        </dd>

        <dt class="col-sm-2">
            Max Num of Clients
        </dt>
        <dd class="col-sm-10">
            @ViewBag.ServiceAppointment.MaxClientNo
        </dd>

        @*This part is from the appointment table*@

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.StartDateTime)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.StartDateTime)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.EndDateTime)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.EndDateTime)
        </dd>

        @*This part is from the service table*@

        <dt class="col-sm-2">
            Rate ($/session)
        </dt>
        <dd class="col-sm-10">
            @ViewBag.ServiceAppointment.Rate
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.AppId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
<br />
<h4>
    Employees
</h4>
<table class="table">
    <thead>
        <tr>
            <th>
                Full Name
            </th>
            <th>
                Job Title
            </th>
            <th>
                Email
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var emp in @ViewBag.Employees)
        {
            <tr>
                <td>
                    @emp.FullName
                </td>
                <td>
                    @emp.JobTitle
                </td>
                <td>
                    @emp.JobTitle
                </td>
            </tr>
        }
    </tbody>
</table>

<br />
<div class="d-flex justify-content-between">
    <h4>
        Clients
    </h4>
    <button id="emailinvoicebutton" type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalCenter">Email Invoice</button>
</div>

<table class="table">
    <thead>
        <tr>
            <th>
                Full Name
            </th>
            <th>
                Email
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var client in @ViewBag.Clients)
        {
            <tr>
                <td>
                    @client.FullName
                </td>
                <td>
                    @client.Email
                </td>
            </tr>
        }
    </tbody>
</table>



<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Email Invoice</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="modalfirstline">Would you like to send out this invoice to everyone?</p>
                <p>Dear [Client],</p>
                <p>Thank you for using our service. Here is an invoice of your recent activity:</p>
                <table>
                    <tr>
                        <td><b>Service:</b> Therapy</td>
                    </tr>
                    <tr>
                        <td><b>Date:</b> YYYY-MM-DD</td>
                    </tr>
                    <tr>
                        <td><b>Time:</b> hh:mm:ss - hh:mm:ss</td>
                    </tr>
                    <tr>
                        <td><b>Rate($/hr):</b> 80.00</td>
                    </tr>
                    <tr>
                        <td><b>Invoice($):</b> 160.00</td>
                    </tr>
                </table>
                <br />
                <table>
                    <tr>
                        <td>Sincerely,</td>
                    </tr>
                    <tr>
                        <td>Service Scheduling</td>
                    </tr>
                </table>
            </div>
            <div id="" class="modal-footer justify-content-around">
                <button type="button" class="btn btn-danger modalbuttons" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success modalbuttons" data-dismiss="modal">Send</button>
            </div>
        </div>
    </div>
</div>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous">
</script>
